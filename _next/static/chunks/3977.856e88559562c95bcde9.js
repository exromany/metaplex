(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3977],{65946:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var i=n(92847),r=n.n(i),a=n(76588),s=n(35551),o=n(69819);function c(e,t,n){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)(r().mark((function e(t,n,i){var a,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[],c=[],e.next=5,(0,s.ew)(i.vault.pubkey,i.auctionManager.info.authority,c);case 5:return e.next=7,(0,o.sendTransactionWithRetry)(t,n,c,a);case 7:(0,o.notify)({message:"Auction started",type:"success"}),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),(0,o.notify)({message:"Transaction failed...",description:"Failed to start the auction",type:"error"}),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}},88614:function(e,t,n){"use strict";n.d(t,{T:function(){return d}});var i=n(52322),r=n(77243),a=n(2784),s=n(46104),o=n(45719),c=n(69819);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.amount,n=e.displayUSD,r=void 0===n||n,l=e.title,d=void 0===l?"":l,f=e.style,p=void 0===f?{}:f,h=e.containerStyle,m=void 0===h?{}:h,x="string"===typeof t?parseFloat(t):t,b=(0,o.O9)(),y=(0,a.useState)(void 0),v=y[0],g=y[1];(0,a.useEffect)((function(){g(b*x)}),[x,b]);var j=isNaN(x);return(0,i.jsxs)("div",{style:u({display:"flex"},m),children:[!1===j&&(0,i.jsx)(s.Z,{style:p,className:"create-statistic",title:d||"",value:x,prefix:"\u25ce"}),r&&(0,i.jsx)("div",{className:"usd",children:!1===j?c.formatUSD.format(v||0):(0,i.jsx)("div",{className:"placebid",children:"Place Bid"})})]})}},93977:function(e,t,n){"use strict";n.d(t,{W:function(){return F}});var i=n(52322),r=n(92847),a=n.n(r),s=n(76588),o=n(2784),c=n(3086),l=n(24832),u=n(13721),d=n(50744),f=n(39097),p=n(69819),h=n(57836),m=n(12323),x=n(3306),b=n(88614),y=function(e){var t,n,r=e.auctionView,a=(0,h.hc)(r.auction.pubkey),s=(0,p.useMint)(r.auction.info.tokenMint),l=(null===(t=r.auctionManager.info.settings.participationConfig)||void 0===t?void 0:t.fixedPrice)||0,u=0===r.auctionManager.info.settings.winningConfigs.length,d=r.auction.info.priceFloor.type===p.PriceFloorType.Minimum&&(null===(n=r.auction.info.priceFloor.minPrice)||void 0===n?void 0:n.toNumber())||0,f=r.state===h.nM.Upcoming,m=r.state===h.nM.Live,y=(0,o.useState)(),j=y[0],k=y[1],w=r.auction.info;(0,o.useEffect)((function(){var e=function(){var e=w.timeToEnd();k(e)},t=setInterval((function(){e()}),1e3);return e(),function(){return clearInterval(t)}}),[w]);var S=v(j);return(0,i.jsx)("div",{style:{minWidth:350},children:(0,i.jsxs)(x.Z,{children:[!S&&(0,i.jsxs)(c.Z,{span:12,children:[(f||0===a.length)&&(0,i.jsx)(b.T,{style:{marginBottom:10},containerStyle:{flexDirection:"column"},title:"Starting bid",amount:(0,p.fromLamports)(u?l:d,s)}),m&&a.length>0&&(0,i.jsx)(b.T,{style:{marginBottom:10},containerStyle:{flexDirection:"column"},title:"Highest bid",amount:(0,p.formatTokenAmount)(a[0].info.lastBid,s)})]}),(0,i.jsx)(c.Z,{span:S?24:12,children:(0,i.jsx)(g,{state:j})})]})})},v=function(e){return 0===(null===e||void 0===e?void 0:e.days)&&0===(null===e||void 0===e?void 0:e.hours)&&0===(null===e||void 0===e?void 0:e.minutes)&&0===(null===e||void 0===e?void 0:e.seconds)},g=function(e){var t=e.state;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{style:{width:"100%"},children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"info-header",style:{margin:"12px 0",fontSize:18},children:"Time left"}),t&&(v(t)?(0,i.jsx)(x.Z,{style:{width:"100%"},children:(0,i.jsx)("div",{className:"cd-number",children:"This auction has ended"})}):(0,i.jsxs)(x.Z,{style:{width:"100%",flexWrap:"nowrap"},children:[t&&t.days>0&&(0,i.jsxs)(c.Z,{children:[(0,i.jsxs)("div",{className:"cd-number",children:[t.days<10&&(0,i.jsx)("span",{style:{opacity:.2},children:"0"}),t.days,(0,i.jsx)("span",{style:{opacity:.2},children:":"})]}),(0,i.jsx)("div",{className:"cd-label",children:"days"})]}),(0,i.jsxs)(c.Z,{children:[(0,i.jsxs)("div",{className:"cd-number",children:[t.hours<10&&(0,i.jsx)("span",{style:{opacity:.2},children:"0"}),t.hours,(0,i.jsx)("span",{style:{opacity:.2},children:":"})]}),(0,i.jsx)("div",{className:"cd-label",children:"hour"})]}),(0,i.jsxs)(c.Z,{children:[(0,i.jsxs)("div",{className:"cd-number",children:[t.minutes<10&&(0,i.jsx)("span",{style:{opacity:.2},children:"0"}),t.minutes,0===t.days&&(0,i.jsx)("span",{style:{opacity:.2},children:":"})]}),(0,i.jsx)("div",{className:"cd-label",children:"mins"})]}),!t.days&&(0,i.jsxs)(c.Z,{children:[(0,i.jsxs)("div",{className:"cd-number",children:[t.seconds<10&&(0,i.jsx)("span",{style:{opacity:.2},children:"0"}),t.seconds]}),(0,i.jsx)("div",{className:"cd-label",children:"secs"})]})]}))]})})})},j=n(95270),k=n(95713),w=n(65946),S=n(67905),M=n(39975),N=n(71800),P=n(45719),T=n(19034),O=n.n(T),Z=n(181),C=n(71125),R=n(35551),B=p.contexts.Wallet.useWallet;function A(e,t,n,i){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(a().mark((function e(t,n,i,r){var s,o,c,l,u,d,f,h,m,x,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMinimumBalanceForRentExemption(Z.AccountLayout.span);case 2:return s=e.sent,e.next=5,t.getMinimumBalanceForRentExemption(Z.MintLayout.span);case 5:return o=e.sent,e.next=8,t.getMinimumBalanceForRentExemption(p.MAX_METADATA_LEN);case 8:return c=e.sent,e.next=11,t.getMinimumBalanceForRentExemption(p.MAX_EDITION_LEN);case 11:return l=e.sent,e.next=14,t.getMinimumBalanceForRentExemption(R.wx);case 14:return u=e.sent,e.next=17,t.getMinimumBalanceForRentExemption(R.Zz);case 17:return d=e.sent,e.next=20,(0,C.m)(n,i,r);case 20:f=e.sent,h=n.auction.info.bidState.max.toNumber(),m=0,x=function(e){var t,r=n.auction.info.bidState.getWinnerAt(e);if(!r)return"break";i.find((function(e){return e.info.bidderPubkey.equals(r)}))&&(m+=null===(t=n.auctionManager.info.settings.winningConfigs[e])||void 0===t?void 0:t.items.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0))},b=0;case 25:if(!(b<h)){e.next=32;break}if("break"!==x(b)){e.next=29;break}return e.abrupt("break",32);case 29:b++,e.next=25;break;case 32:return e.abrupt("return",(o+s+c+l+u+d)*(f.length+m));case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(e){var t,n,r,x,b,v=e.auctionView,g=e.style,T=e.hideDefaultAction,Z=e.action,C=(0,p.useConnection)(),R=B(),E=R.wallet,F=R.connected,I=R.connect,z=(0,p.useMint)(v.auction.info.tokenMint),L=(0,P.jq)(),_=L.prizeTrackingTickets,D=L.bidRedemptions,W=(0,h.hc)(v.auction.pubkey),q=(0,o.useState)(),K=q[0],U=q[1],V=(0,o.useState)(!1),X=V[0],Y=V[1],G=(0,o.useState)(!1),H=G[0],J=G[1],Q=(0,o.useState)("placebid"),$=Q[0],ee=Q[1],te=(0,o.useState)(!1),ne=te[0],ie=te[1],re=(0,o.useState)(!1),ae=re[0],se=re[1],oe=(0,o.useState)(!1),ce=oe[0],le=oe[1],ue=(0,o.useState)(void 0),de=ue[0],fe=ue[1],pe=(0,o.useState)(!1),he=pe[0],me=pe[1],xe=(0,o.useState)(),be=xe[0],ye=xe[1],ve=(0,p.useUserAccounts)().accountByMint,ge=v.auction.info.tokenMint,je=(0,h.FB)(ge),ke=je.accounts[0],we=null;null!==(t=v.myBidderPot)&&void 0!==t&&t.pubkey&&(we=v.auction.info.bidState.getWinnerIndex(null===(n=v.myBidderPot)||void 0===n?void 0:n.info.bidderAct));var Se=v.auction.info.priceFloor.type===p.PriceFloorType.Minimum&&(null===(r=v.auction.info.priceFloor.minPrice)||void 0===r?void 0:r.toNumber())||0,Me=(0,j.Yp)(we,v,v.myBidderMetadata,v.myBidRedemption),Ne=function(e){var t=(0,o.useState)(),n=t[0],i=t[1],r=(0,P.jq)().auctionDataExtended;return(0,o.useMemo)((function(){!function(){var t=(0,s.Z)(a().mark((function t(){var s,o,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=7;break}return s=(0,p.programIds)(),t.next=4,(0,p.getAuctionExtended)({auctionProgramId:s.auction,resource:e.vault.pubkey});case 4:o=t.sent,(c=r[o.toBase58()])&&i(c);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[r,n,i]),n}(v),Pe=null!==we||Me,Te=((null===(x=v.auction.info.auctionGap)||void 0===x?void 0:x.toNumber())||0)/60,Oe=Ne?Ne.info.gapTickSizePercentage:0,Ze=Ne?Ne.info.tickSize:0,Ce=!(!Ze||!K||K*N.LAMPORTS_PER_SOL%Ze.toNumber()==0),Re=function(e,t,n,i){return!!(0,o.useMemo)((function(){if(t&&e&&n&&!i.auction.info.ended()){var r=O()().unix(),a=i.auction.info.endedAt;if(a){if(r>a.toNumber()){for(var s=e*N.LAMPORTS_PER_SOL,o=i.auction.info.bidState.bids.length-1;o>-1;o--){var c=i.auction.info.bidState.bids[o].amount.toNumber();if(c<s)return c*((100+t)/100)>s;if(c===s)return!0}return!1}return!1}return!1}}),[e,t,n,i])}(K,Oe,Te,v),Be=v.auctionManager.info.authority.toBase58()!=(null===E||void 0===E||null===(b=E.publicKey)||void 0===b?void 0:b.toBase58()),Ae=v.auction.info.state===p.AuctionState.Created,Ee=function(){var e=(0,s.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y(!0),!ke||!K){e.next=9;break}return e.next=4,(0,m.j)(C,E,ke.pubkey,v,ve,K);case 4:t=e.sent,fe(t),J(!1),le(!0),Y(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)("div",{className:"auction-container",style:g,children:[(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(y,{auctionView:v}),(0,i.jsx)("br",{}),ae&&(0,i.jsx)("span",{children:"There was an issue redeeming or refunding your bid. Please try again."}),!T&&F&&v.auction.info.ended()&&(0,i.jsx)(l.Z,{type:"primary",size:"large",className:"action-btn",disabled:!ke||!v.myBidderMetadata&&Be||X||!!v.items.find((function(e){return e.find((function(e){return!e.metadata}))})),onClick:(0,s.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y(!0),se(!1),null===E||void 0===E||null===(t=E.publicKey)||void 0===t||!t.equals(v.auctionManager.info.authority)){e.next=8;break}return e.next=5,A(C,v,W,D);case 5:n=e.sent,ye(n),me(!0);case 8:if(e.prev=8,!Pe){e.next=14;break}return e.next=12,(0,j.Te)(C,E,ke.pubkey,v,ve,_,D,W).then((function(){return ie(!0)}));case 12:e.next=16;break;case 14:return e.next=16,(0,k.D)(C,E,ke.pubkey,v,ve,W,D,_);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(8),console.error(e.t0),se(!0);case 22:Y(!1);case 23:case"end":return e.stop()}}),e,null,[[8,18]])}))),style:{marginTop:20},children:X||v.items.find((function(e){return e.find((function(e){return!e.metadata}))}))||!ke?(0,i.jsx)(u.Z,{}):Pe?"Redeem bid":"".concat(null!==E&&void 0!==E&&E.publicKey&&v.auctionManager.info.authority.equals(E.publicKey)?"Reclaim Items":"Refund bid")}),!T&&F&&!v.auction.info.ended()&&(Ae&&!Be?(0,i.jsx)(l.Z,{type:"primary",size:"large",className:"action-btn",disabled:X,onClick:(0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.prev=1,e.next=4,(0,w.h)(C,E,v);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:Y(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),style:{marginTop:20},children:X?(0,i.jsx)(u.Z,{}):"Start auction"}):(0,i.jsx)(l.Z,{type:"primary",size:"large",className:"action-btn",disabled:X,onClick:function(){return J(!0)},style:{marginTop:20},children:X?(0,i.jsx)(u.Z,{}):"Place bid"})),!T&&!F&&(0,i.jsx)(l.Z,{type:"primary",size:"large",className:"action-btn",onClick:I,style:{marginTop:20},children:"Connect wallet to place bid"}),Z]}),(0,i.jsxs)(p.MetaplexOverlay,{visible:ce,children:[(0,i.jsx)(S.DI,{}),(0,i.jsx)("h1",{className:"title",style:{fontSize:"3rem",marginBottom:20},children:"Nice bid!"}),(0,i.jsxs)("p",{style:{color:"white",textAlign:"center",fontSize:"2rem"},children:["Your bid of \u25ce ",(0,p.formatTokenAmount)(null===de||void 0===de?void 0:de.amount,z)," was successful"]}),(0,i.jsx)(l.Z,{onClick:function(){return le(!1)},className:"overlay-btn",children:"Got it"})]}),(0,i.jsxs)(p.MetaplexOverlay,{visible:ne,children:[(0,i.jsx)(S.DI,{}),(0,i.jsx)("h1",{className:"title",style:{fontSize:"3rem",marginBottom:20},children:"Congratulations"}),(0,i.jsxs)("p",{style:{color:"white",textAlign:"center",fontSize:"2rem"},children:["Your bid has been redeemed please view your NFTs in"," ",(0,i.jsx)(f.default,{href:"/artworks",children:(0,i.jsx)("a",{children:"My Items"})}),"."]}),(0,i.jsx)(l.Z,{onClick:function(){return ie(!1)},className:"overlay-btn",children:"Got it"})]}),(0,i.jsxs)(p.MetaplexModal,{visible:H,onCancel:function(){return J(!1)},bodyStyle:{alignItems:"start"},afterClose:function(){return ee("placebid")},children:["placebid"===$&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"modal-title",children:"Place a bid"}),!!Te&&(0,i.jsxs)("div",{className:"info-content",style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.9rem"},children:["Bids placed in the last ",Te," minutes will extend bidding for another ",Te," minutes beyond the point in time that bid was made."," ",Oe&&(0,i.jsxs)("span",{children:["Additionally, once the official auction end time has passed, only bids ",Oe,"% larger than an existing bid will be accepted."]})]}),(0,i.jsx)("br",{}),(0,i.jsx)(y,{auctionView:v}),(0,i.jsx)("br",{}),Ce&&Ze&&(0,i.jsxs)("span",{style:{color:"red"},children:["Tick size is \u25ce",Ze.toNumber()/N.LAMPORTS_PER_SOL,"."]}),Re&&(0,i.jsxs)("span",{style:{color:"red"},children:["Your bid needs to be at least ",Oe,"% larger than an existing bid during gap periods to be eligible."]}),(0,i.jsxs)("div",{style:{width:"100%",background:"#242424",borderRadius:14,color:"rgba(0, 0, 0, 0.5);"},children:[(0,i.jsx)(d.Z,{autoFocus:!0,className:"input",value:K,style:{width:"100%",background:"#393939",borderRadius:16},onChange:U,precision:4,formatter:function(e){return e?"\u25ce ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,","):""},placeholder:"Amount in SOL"}),(0,i.jsxs)("div",{style:{display:"inline-block",margin:"5px 20px",fontWeight:700},children:["\u25ce ",(0,p.formatAmount)(je.balance,2)," ",(0,i.jsx)("span",{style:{color:"#717171"},children:"available"})]}),(0,i.jsx)("a",{onClick:function(){return ee("addfunds")},style:{float:"right",margin:"5px 20px",color:"#5870EE"},children:"Add funds"})]}),(0,i.jsx)("br",{}),(0,i.jsx)(l.Z,{type:"primary",size:"large",className:"action-btn",onClick:Ee,disabled:Ce||Re||!ke||void 0===K||K*N.LAMPORTS_PER_SOL<Se||X||!ve.get(M.bx.toBase58()),children:X||!ve.get(M.bx.toBase58())?(0,i.jsx)(u.Z,{}):"Place bid"})]}),"addfunds"===$&&(0,i.jsxs)("div",{style:{maxWidth:"100%"},children:[(0,i.jsx)("h2",{children:"Add funds"}),(0,i.jsxs)("p",{style:{color:"white"},children:["We partner with ",(0,i.jsx)("b",{children:"FTX"})," to make it simple to start purchasing digital collectibles."]}),(0,i.jsxs)("div",{style:{width:"100%",background:"#242424",borderRadius:12,marginBottom:10,height:50,display:"flex",alignItems:"center",padding:"0 10px",justifyContent:"space-between",fontWeight:700},children:[(0,i.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.5)"},children:"Balance"}),(0,i.jsxs)("span",{children:[(0,p.formatAmount)(je.balance,2),"\xa0\xa0",(0,i.jsx)("span",{style:{borderRadius:"50%",background:"black",display:"inline-block",padding:"1px 4px 4px 4px",lineHeight:1},children:(0,i.jsx)("img",{src:"/sol.svg",width:"10"})})," ","SOL"]})]}),(0,i.jsx)("p",{children:"If you have not used FTX Pay before, it may take a few moments to get set up."}),(0,i.jsx)(l.Z,{onClick:function(){return ee("placebid")},style:{background:"#454545",borderRadius:14,width:"30%",padding:10,height:"auto"},children:"Back"}),(0,i.jsx)(l.Z,{onClick:function(){var e;window.open("https://ftx.com/pay/request?coin=SOL&address=".concat(null===E||void 0===E||null===(e=E.publicKey)||void 0===e?void 0:e.toBase58(),"&tag=&wallet=sol&memoIsRequired=false"),"_blank","resizable,width=680,height=860")},style:{background:"black",borderRadius:14,width:"68%",marginLeft:"2%",padding:10,height:"auto",borderColor:"black"},children:(0,i.jsxs)("div",{style:{display:"flex",placeContent:"center",justifyContent:"center",alignContent:"center",alignItems:"center",fontSize:16},children:[(0,i.jsx)("span",{style:{marginRight:5},children:"Sign with"}),(0,i.jsx)("img",{src:"/ftxpay.png",width:"80"})]})})]})]}),(0,i.jsx)(p.MetaplexModal,{visible:he,onCancel:function(){return me(!1)},bodyStyle:{alignItems:"start"},children:(0,i.jsxs)("h3",{style:{color:"white"},children:["Warning: There may be some items in this auction that still are required by the auction for printing bidders' limited or open edition NFTs. If you wish to withdraw them, you are agreeing to foot the cost of up to an estimated \u25ce",(0,i.jsx)("b",{children:(be||0)/N.LAMPORTS_PER_SOL})," ","plus transaction fees to redeem their bids for them right now."]})})]})}},67905:function(e,t,n){"use strict";n.d(t,{Im:function(){return o},DI:function(){return c}});var i=n(52322),r=n(2784),a=n(37275),s=r.createContext(null),o=function(e){var t=e.children,n=void 0===t?null:t,o=(0,r.useRef)(),c=(0,r.useRef)(),l=(0,r.useMemo)((function(){return function(){var e;c.current&&o.current&&(o.current.style.visibility="visible",null===(e=c.current({particleCount:400,spread:160,origin:{y:.3}}))||void 0===e||e.finally((function(){o.current&&(o.current.style.visibility="hidden")})))}}),[]);(0,r.useEffect)((function(){o.current&&!c.current&&(o.current.style.visibility="hidden",c.current=a.Z.create(o.current,{resize:!0,useWorker:!0}))}),[]);return(0,i.jsxs)(s.Provider,{value:{dropConfetti:l},children:[(0,i.jsx)("canvas",{ref:o,style:{width:"100vw",height:"100vh",position:"absolute",zIndex:1,top:0,left:0}}),n]})},c=function(){var e=l().dropConfetti;return(0,r.useEffect)((function(){e()}),[e]),(0,i.jsx)(i.Fragment,{})},l=function(){return(0,r.useContext)(s)}}}]);